# Урок 10

## Force click и мульти-поиск

### Методы взаимодействия с браузером
#### Методы, которые мы изучили ранее:
1. **find_element** - Поиск элемента
2. **find_elements** - Поиск элементов (по неуникальному локатору):
   1. Проверка равенства количества элементов
   2. Проверка неравенства количества элементов
3. **exist** - Проверка на то, есть ли элемент в DOM
4. **not exist** - Проверка на то, нет ли элемент в DOM
5. **visible** - Проверка на то, виден ли элемент на странице
6. **not visible** - Проверка на то, НЕ виден ли элемент на странице
7. **get_text** - Получить текст элемента
8. **click** - Кликнуть на элемент

#### Методы, которые мы изучим на этот уроке
1. **click_force** - Кликнуть на элемент принудительно (если элемент скрыт, или элемент не кликабельный)
2. **send_keys** - Ввести текст
3. **clear** - Очистить текстовое поле
4. **get_attribute** - Получение атрибута элемента

### Задача 7 из 9-го урока (мы тогда её не смогли решить)
Допустим, есть тест кейс:
1. На странице demoqa.com/automation-practice-form
2. Проверьте, что модальное окно закрыто
3. Заполните форму и отправьте её
4. Проверьте открытие модального окна после отправки формы

На 9-м уроке у нас возникала ошибка "...exceptions.ElementClickInterceptedException"
Элемент не кликабельный.
1. Эта ошибка выдаётся потому, что элемент не кликабельный.
Данная ошибка подразумевает, что нужный элемент не был кликабельным, так как какой-то другой элемент скрывает его.
2. У этой проблемы есть 2 решения:
    1. Если ситуация динамическая, можно поставить ожидание, пока нужный нам элемент не станет кликабельным.
    2. Сделать принудительный клик

### Метод click_force()
click_force() - это кастомный метод для принудительного клика
execute_script() - это метод API Селениума, позволяющий добавлять свой JS-код
execute_script(скрипт, *аргументы)
Синхронно выполняет JavaScript-код в текущем окне.

### Решение предыдущей задачки, чтобы устранить ошибку
1. В классе WebElement, после метода click(), добавьте метод click_force():
   1. Метод click_force() принимает только self
   2. В теле метода обратитесь к драйверу, от него вызовите метод execute_script()
   3. В методе execute_script() первым аргументом передайте следующий JavaScript код:
      1. "arguments[0].click();"
   4. Вторым методом вызовите метод find_elements()


        def click_force(self):
            self.driver.execute_script("arguments[0].click();", self.find_elements())
2. Вернитесь в файл test_login_form.py:
   1. Измените оба метода клика на click_force()
   2. Запустите - ошибки нет.
   3. Также добавьте проверку на наличие modal_dialog
   4. В конце добавьте принудительный клиент по btn_close_modal
   5. Запустите тест кейс