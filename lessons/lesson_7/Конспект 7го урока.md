# Урок 7
### Задание 1
Проблематика: В нашем коде есть ошибки:
1. URL указан в 2х местах - это неправильно

Как это исправить и где он должен находиться?
Чтобы исправить, мы сделаем следующее:
1. В класс DemoQa добавим конструктор, он принимает 1 аргумент driver
2. В конструкторе создадим атрибут:
   - self.base_ulr = 'https://demoqa.com/'
   - Для принимаемого аргумента driver создавать атрибут не нужно!
3. Прокинем данные в верхний класс:
   - super().__init__(driver, self.base_url)
4. Заменим URL в методе equal_url на self.base_url
5. В конструкторе класса BasePage, URL заменим на base_url, и добавим аргумент base_url


### Задача 2
1. Создайте тестовый файл test_go_to_page_elements.py
2. Реализуйте тест кейс:
   - Перейти на страницу 'https://demoqa.com/'
   - Проверяем URL на соответствие 'https://demoqa.com/'
   - Кликнуть на элемент "#app > div > div > div.home-body > div > div:nth-child(1)"
   - Проверяем URL на соответствие 'https://demoqa.com/elements'

### Решение Задачи 2
1. Создайте тестовую функцию, принимающую фикстуру def test_go_to_page(browser)
2. Создайте экземпляр класса DemoQa и передайте browser
3. Используйте метод visit, проверьте URL equal_url
4. В классе DemoQa создайте метод click_on_the_btn_elements по аналогии с методом, кликающим на иконку. Не забудьте поставить локатор
5. Вызовите метод из тестового файла
6. В каталоге pages создайте файл elements_page.py
7. В файле elements_page.py создайте класс ElementsPage, наследуйте от BasePage
8. Добавьте конструктор класса (__init__), по аналогии с классом DemoQa
9. Добавьте метод проверки URL, по аналогии с классом DemoQa
10. В тестовом файле, создайте экземпляр класса ElementsPage
11. Последней строкой вызовите метод проверки URL


### Задача 3 - Выносим метод equal_url() в Базовый класс
**Проблематика**: 
Метод equal_url() у нас совершенно одинаковый в следующих файлах:
   - Файл demoqa.py, класс DemoQa
   - Файл elements_page.py, класс ElementsPage
Мы его просто скопировали и никак не меняли. А если у нас будет много-много страниц, и мы захотим что-то поменять в нём..
Это очень неудобно. И нужно вынести метод equal_url() в Базовый класс, для удобства

### Решение Задачи 3
1. Вынести метод equal_url() в Базовый класс:
   - Скопируйте метод equal_url() в Базовый класс
   - Удалите метод equal_url() из классов страниц

### Задача 4 - Components: выносим и обобщаем методы, кликающие по объектам
**Проблематика**:
Следующие методы, кликающие по объектам у нас однотипные:
(они выполняют одну и ту же задачу, меняется лишь локатор)
- Метод click_on_the_icon в файле demoqa.py (используем в тесте test_check_icon_demoqa.py)
- Метод click_on_the_btn в файле demoqa.py (используем в тесте test_go_to_page_elements.py)

### Решение Задачи 4
1. Создайте файл components.py в каталоге components
2. Создайте класс WebElement, но не наследуйте его !
3. При инициализации класс получает driver, locator
   - У locator значение по умолчанию пустая строка
4. Создайте метод click (не принимает аргументов)
   - В теле реализация клика по элементу
5. В классе DemoQa, в конструкторе, создайте два атрибута-объекта:
   - self.icon
   - self.btn_elements
   - Как экземпляры класса WebElement, и передайте driver и локаторы
6. Уберите методы click_on_the_icon и click_on_the_btn
7. Вызовите в тестах вместо методов клик, сначала объект элемента, потом метод click()

### Задача 5 - Убрать метод find_element в класс WebElement
1. Уберите метод find_element в класс WebElement
   - Теперь в классе DemoQa, в методе exist_icon будет ошибка
   - Исправьте код, чтобы всё работало корректно

### Решение Задачи 5
1. В классе BasePage закомментируйте метод find_element
2. В классе WebElement добавьте метод find_element
3. В методе click() используйте find_element (т.е. один метод у нас будет вызывать другой)
4. Исправьте метод exist_icon в классе DemoQa
5. Запустите код и проверьте, что всё работает корректно
